---
title: "Starting process inside a sandbox"
---

<Callout icon="circle-exclamation" color="#ff8800" iconType="regular">You are reading a legacy (pre v1.0) document.</Callout>


Here are the basic operations you can do with the process inside the sandbox:

- [Start process](#start-process)
- [Stop process](#stop-process)
- [Stdout](#stream-stdout)
- [Stdin](#send-stdin)
- [Stderr](#stream-stderr)
- [On exit](#on-process-exit)

## Start process

<CodeGroup>
```js JavaScript & TypeScript
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({ template: 'base' })

const npmInit = await sandbox.process.start({
  cmd: 'npm init -y', // $HighlightLine
})
await npmInit.wait()

console.log(npmInit.output.stdout)

await sandbox.close()
```
```python Python
from e2b import Sandbox

sandbox = Sandbox(template="base")

npm_init = sandbox.process.start("npm init -y")  # $HighlightLine
npm_init.wait()
print(npm_init.stdout)

sandbox.close()
```
</CodeGroup>

## Stop process

<CodeGroup>
```js JavaScript & TypeScript
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({
  template: 'base',
})

const npmInit = await sandbox.process.start({
  cmd: 'npm init -y',
})
await npmInit.kill() // $HighlightLine
// There will be no output because we immediately kill the `npm_init` process
console.log(npmInit.output.stdout)

await sandbox.close()
```
```python Python
from e2b import Sandbox

sandbox = Sandbox(template="base")

npm_init = sandbox.process.start("npm init -y")
npm_init.kill()  # $HighlightLine

# There will be no output because we immediately kill the `npm_init` process
print(npm_init.stdout)

sandbox.close()
```
</CodeGroup>

## Stream stdout

Set either stdout handler for the whole sandbox level or per process.

<CodeGroup>
```js JavaScript & TypeScript
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({
  template: 'base',
  onStdout: (output) => console.log('sandbox', output.line), // $HighlightLine
})

const proc = await sandbox.process.start({
  cmd: 'echo "Hello World!"',
})
await proc.wait()
// output: sandbox Hello World!

const procWithCustomHandler = await sandbox.process.start({
  cmd: 'echo "Hello World!"',
  onStdout: (data) => console.log('process', data.line), // $HighlightLine
})
await procWithCustomHandler.wait()
// output: process Hello World!

await sandbox.close()
```
```python Python
from e2b import Sandbox

sandbox = Sandbox(
    template="base",
    on_stdout=lambda output: print("sandbox", output.line),  # $HighlightLine
)

proc = sandbox.process.start('echo "Hello World!"')
proc.wait()
# output: sandbox Hello World!

proc_with_custom_handler = sandbox.process.start(
    'echo "Hello World!"',
    on_stdout=lambda output: print("process", output.line),  # $HighlightLine
)
proc_with_custom_handler.wait()
# output: process Hello World!

sandbox.close()
```
</CodeGroup>

## Stream stderr

Set either stderr handler for the whole sandbox level or per process.

<CodeGroup>
```js JavaScript & TypeScript
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({
  template: 'base',
})

// This command will fail and output to stderr because Golang isn't installed in the cloud playground
const golangVersion = await sandbox.process.start({
  cmd: 'go version',
  onStderr: (output) => console.log('sandbox', output.line), // $HighlightLine
})
await golangVersion.wait()
// output: [sandbox] /bin/bash: line 1: go: command not found

const procWithCustomHandler = await sandbox.process.start({
  cmd: 'go version',
  onStderr: (data) => console.log('process', data.line), // $HighlightLine
})
await procWithCustomHandler.wait()
// output: process /bin/bash: line 1: go: command not found

await sandbox.close()
```
```python Python
from e2b import Sandbox

sandbox = Sandbox(
    template="base",
    on_stderr=lambda output: print("[sandbox]", output.line),  # $HighlightLine
)

# This command will fail and output to stderr because Golang isn't installed in the cloud playground
proc = sandbox.process.start("go version")
proc.wait()
# output: [sandbox] /bin/bash: line 1: go: command not found

proc_with_custom_handler = sandbox.process.start(
    "go version",
    on_stderr=lambda output: print("[process]", output.line),  # $HighlightLine
)
proc_with_custom_handler.wait()
# output: [process] /bin/bash: line 1: go: command not found

sandbox.close()
```
</CodeGroup>

## On process exit

Set either on exit handler for the whole sandbox level or per process.

<CodeGroup>
```js JavaScript & TypeScript
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({
  template: 'base',
  onExit: () => console.log('[sandbox]', 'process ended'), // $HighlightLine
})

const proc = await sandbox.process.start({cmd: 'echo "Hello World!"'})
await proc.wait()
// output: [sandbox] process ended

const procWithCustomHandler = await sandbox.process.start({
  cmd: 'echo "Hello World!"',
  onExit: () => console.log('[process]', 'process ended'), // $HighlightLine
})
await procWithCustomHandler.wait()
// output: [process] process ended

await sandbox.close()
```
```python Python
from e2b import Sandbox

sandbox = Sandbox(
    template="base",
    on_exit=lambda: print("[sandbox]", "process ended"),  # $HighlightLine
)

proc = sandbox.process.start('echo "Hello World!"')
proc.wait()
# output: [sandbox] process ended

proc_with_custom_handler = sandbox.process.start(
    'echo "Hello World!"',
    on_exit=lambda: print("[process]", "process ended"),  # $HighlightLine
)
proc_with_custom_handler.wait()
# output: [process] process ended

sandbox.close()
```
</CodeGroup>

## Send stdin

<CodeGroup>
```js JavaScript & TypeScript
import { Sandbox } from 'e2b'

const sandbox = await Sandbox.create({ template: 'base' })

// This example will print back the string we send to the process using `sendStdin()`

const proc = await sandbox.process.start({
  cmd: 'while IFS= read -r line; do echo "$line"; sleep 1; done',
  onStdout: (output) => console.log(output),
})
await proc.sendStdin('AI Playground\n') // $HighlightLine
await proc.kill()

await sandbox.close()
```
```python Python
from e2b import Sandbox

sandbox = Sandbox(template="base")

# This example will print back the string we send to the process using `send_stdin()`

proc = sandbox.process.start(
    'while IFS= read -r line; do echo "$line"; sleep 1; done',
    on_stdout=print,
)
proc.send_stdin("AI Playground\n")  # $HighlightLine
proc.kill()

sandbox.close()
```
</CodeGroup>