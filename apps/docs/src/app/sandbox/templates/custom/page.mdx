# Creating custom sandbox template

You use [E2B CLI](https://www.npmjs.com/package/@e2b/cli) to create custom sandbox templates.

### CLI installation

You will need __NodeJS 18__ or later installed on your system to use the CLI.

```bash
npm install -g @e2b/cli
```

### CLI login

Before you create your first sandbox template, you will need to authenticate in the CLI with your E2B account.

Run the following command and follow the instructions on the web page that will open:

```bash
e2b login
```

## Create sandbox template

We're using Dockerfile and files in the directory where you run the `e2b build` command to build sandbox templates.

If you don't have a Dockerfile you can run `e2b init` to create a basic `e2b.Dockerfile` in the current directory.

<Note>
The **Dockerfile must be Debian (Ubuntu, etc.) based** and the following [Dockerfile commands](https://docs.docker.com/engine/reference/builder/) are supported:
  - `FROM`
  - `ADD`
  - `COPY`
  - `RUN`
  - `WORKDIR`
</Note>


Edit the Dockerfile to add any files you need in the sandbox from the local directory and install any dependencies.
Then run the following command to build the sandbox template:

```bash
e2b build
```

This will create the sandbox template and `e2b.toml` file storing the sandbox template config.

<Note>
Use `.dockerignore` and `.gitignore` files to exclude files from the sandbox template.
</Note>

### Specifying Dockerfile

By default, the CLI looks for `e2b.Dockerfile` or `Dockerfile` in the directory where you run the `e2b build` command.
To use a different Dockerfile use the `--dockerfile` flag:

```bash
e2b build --dockerfile /path/to/Dockerfile
```


## Update sandbox template

If you want to update your sandbox, you run the same command you did to build it.
This will rebuild the image and update your sandbox template.
You don't need to specify the `--dockerfile` flag again.

```bash
e2b build
```


### Using a custom template in your code

You can use your custom sandbox template in your code by specifying the `id` of the sandbox template in the `Sandbox` constructor.
You get the template `id` after running `e2b build` or from the `e2b.toml` file in the sandbox template directory.

<CodeGroup isRunnable={false}>
```js {{ language: 'js' }}
import { Sandbox } from '@e2b/sdk'

const sandbox = await Sandbox.create({
  id: '<custom-template-id>',
})

await sandbox.close()
```

```python {{ language: 'python' }}
from e2b import Sandbox

sandbox = Sandbox(
  id: "<custom-template-id>",
)

sandbox.close()
```
</CodeGroup>
